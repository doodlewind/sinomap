var ChoroplethLayer=function(){"use strict";function n(n,t){var e=null;return t.forEach(function(t){t.name===n&&(e=t.value)}),e}function t(n,t){for(var e=n.length,r=n.map(function(n,t){return 1/e*(e-t)}),a=0;a<n.length;a++)if(t<=n[a])return"rgba(255, 255, 255, "+(r[a]-.1)+")"}function e(n,t){var e=n.map(function(n){return n.value});e.sort(function(n,t){return n>t?1:-1});var r=Math.floor(e.length/t);return r<=1?e:Array.from(new Array(t-1)).map(function(n,t){return e[r*(t+1)]})}function r(e,r,a){var o=parseInt(n(a.name,this.conf.data));o&&(e.ctx.fillStyle=this.conf.color,e.utils.drawPath(e.ctx,r),e.ctx.fillStyle=t(this.thresholds,o),e.utils.drawPath(e.ctx,r))}var a={color:"cyan",level:5,data:[],onEnterArea:function(){},onLeaveArea:function(){}},o=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();return function(){function t(n){o(this,t),this.conf=Object.assign({},a,n),this.thresholds=e(this.conf.data,this.conf.level),this.drawChoropleth=r.bind(this)}return i(t,[{key:"onAreaEnter",value:function(t,e){var r=n(e.name,this.conf.data);this.conf.onAreaEnter({name:e.name,cp:e.cp,value:r})}},{key:"onAreaLeave",value:function(t,e){var r=n(e.name,this.conf.data);this.conf.onAreaLeave({name:e.name,cp:e.cp,value:r})}},{key:"onAreaHover",value:function(n,t,e){n.ctx.fillStyle="rgba(255, 255, 255, 0.4)",n.utils.drawPath(n.ctx,t)}},{key:"afterAreaDraw",value:function(n,t,e){this.drawChoropleth(n,t,e)}}]),t}()}();
