var TravelLayer=function(){"use strict";function t(t,n){var o=f(t,2),r=o[0],e=o[1],a=f(n,2),i=a[0],c=a[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=Math.sqrt(Math.pow(i-r,2)+Math.pow(c-e,2)),s=i!==r?Math.atan((c-e)/(i-r)):Math.PI/2,h=l/2,p=s+Math.atan(Math.PI/12*u);return[h*Math.cos(p),h*Math.sin(p)]}function n(n,o){var r=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],o(n.from.coordinate)),e=o(n.to.coordinate),a=t(r,e);return console.log(r,a,e),n.points=[r,a,e],n}function o(t,n,o,r){t.beginPath(),t.arc(n,o,r,0,2*Math.PI),t.fill()}function r(t,n,o,r){return[Math.pow(1-r,2)*t[0]+2*(1-r)*r*n[0]+Math.pow(r,2)*o[0],Math.pow(1-r,2)*t[1]+2*(1-r)*r*n[1]+Math.pow(r,2)*o[1]]}function e(t,n,o,r){var e=f(n,2),a=e[0],i=e[1],c=f(o,2),u=c[0],l=c[1],s=f(r,2),h=s[0],p=s[1];t.beginPath(),t.moveTo(a,i),t.quadraticCurveTo(u,l,h,p),t.stroke()}function a(t,n,e,a,i){var c=f(n,2),u=c[0],l=c[1],s=f(e,2),h=s[0],p=s[1],v=f(a,2),d=v[0],y=v[1],b=i%100/100,M=r([u,l],[h,p],[d,y],b),m=f(M,2);o(t,m[0],m[1],2)}var i={lineColor:"rgba(255,255,255,.5)",lineWidth:1,speed:1,pointColor:"rgba(0,0,255,.2)"},c=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,o,r){return o&&t(n.prototype,o),r&&t(n,r),n}}(),f=function(){function t(t,n){var o=[],r=!0,e=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(o.push(i.value),!n||o.length!==n);r=!0);}catch(t){e=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(e)throw a}}return o}return function(n,o){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(n){c(this,t),this.conf=Object.assign({},i,n),this.animate=!1,this.count=0}return u(t,[{key:"afterMapDraw",value:function(t){var r=this;this.count++,t.ctx.fillStyle="red",this.conf.data=this.conf.data.map(function(o){return n(o,t.utils.convert)}),this.conf.data.forEach(function(n){var i=t.utils.convert(n.from.coordinate),c=f(i,2),u=c[0],l=c[1],s=t.utils.convert(n.to.coordinate),h=f(s,2),p=h[0],v=h[1];o(t.ctx,u,l,n.from.size),o(t.ctx,p,v,n.to.size),t.ctx.strokeStyle="blue",e(t.ctx,n.points[0],n.points[1],n.points[2]),a(t.ctx,n.points[0],n.points[1],n.points[2],r.count)})}}]),t}();return"undefined"!=typeof module&&(module.exports=l),l}();
